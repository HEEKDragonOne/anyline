<!-- 多数据源 -->
<!-- 
<?xml version="1.0" encoding="UTF-8"?>
<bean id="ds1" class="com.alibaba.druid.pool.DruidDataSource" init-method="init" destroy-method="close">
	<property name="url" value="jdbc:mysql://127.0.0.1:3306/db1?useUnicode=true&amp;characterEncoding=UTF8" />
	<property name="username" value="u1" />
	<property name="password" value="p1" />
</bean>
<bean id="ds2" class="com.alibaba.druid.pool.DruidDataSource" init-method="init" destroy-method="close">
	<property name="url" value="jdbc:mysql://127.0.0.1:3306/db2?useUnicode=true&amp;characterEncoding=UTF8" />
	<property name="username" value="u2" />
	<property name="password" value="p2" />
</bean>
<bean id="ds" class="org.anyline.config.db.ds.DynamicDataSource">  
<property name="targetDataSources">  
<map key-type="java.lang.String">
    <entry key="ds1" value-ref="ds1"></entry>  
    <entry key="ds1" value-ref="ds2"></entry>  
</map>  
</property>
<property name="defaultTargetDataSource" ref="ds1" />  
</bean>
<bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
	<property name="dataSource" ref="ds" />
</bean>

手动切换数据源 
DataSourceHolder.setDataSource("ds_org");//执行后所有操作针对ds_ort数据源
service.query("HR_USER");
DataSourceHolder.clearDataSource();//切换回默认数据源


DataSourceHolder.setDataSource("ds_org",true);//执行后,第一个操作针对ds_ort数据源,第2个及以后针对默认数据源
		
 -->
 
 
<!-- 单数据源 -->
<!-- 
<bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource" init-method="init" destroy-method="close">
	<property name="url" value="jdbc:mysql://127.0.0.1:3306/db2?useUnicode=true&amp;characterEncoding=UTF8" />
	<property name="username" value="u2" />
	<property name="password" value="p2" />
	</bean>
	<bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
		<property name="dataSource" ref="dataSource" />
	</bean>
 -->